{"version":3,"sources":["00-start.js","01-form.js","02-fetch.js","03-found-list.js","04-favourites.js","05-localStorage.js","06-deleteFav.js","main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\n//variables that get html elements\nconst form = document.querySelector('.form');\nconst inputSearch = document.querySelector('.js-inputSearch');\nconst btnSearch = document.querySelector('.js-btnSearch');\nconst listContainer = document.querySelector('.found-list');\nconst favContainer = document.querySelector('.js-favlist');\nconst favSection = document.querySelector('.js-fav');\nconst resetBtn = document.querySelector('.js-reset');\n\n//Default image\nconst defaultImage =\n\t'https://via.placeholder.com/210x295/ffffff/666666/?text=TV';\n\n//variables to save arrays\nlet series = [];\nlet favourites = [];\n\n//retrieve saved data\nif (localStorage.getItem('favourites') !== null) {\n\tgetLS();\n}\n","//Prevent default execution of the form\nfunction preventDefault(event) {\n\tevent.preventDefault();\n}\nform.addEventListener('submit', preventDefault);\n","//Complete the url with the word searched\nfunction completeUrl() {\n\tlet itemSearch = inputSearch.value;\n\tlet url = `//api.tvmaze.com/search/shows?q=${itemSearch}`;\n\treturn url;\n}\n\n//Function to save the search result\nfunction getTheSearchResult() {\n\tlet url = completeUrl();\n\n\tfetch(url)\n\t\t.then((response) => response.json())\n\t\t.then((data) => {\n\t\t\tseries = data;\n\n\t\t\t//function to print the search data\n\t\t\taddCards();\n\t\t});\n}\n\nbtnSearch.addEventListener('click', getTheSearchResult);\n","function isFavourite(card) {\n\tconst favFound = favourites.find((fav) => {\n\t\treturn fav.show.id === card.show.id;\n\t});\n\tif (favFound === undefined) {\n\t\treturn false;\n\t} else {\n\t\treturn true;\n\t}\n}\n\nfunction addCards() {\n\tlet favClass = '';\n\tlistContainer.innerHTML = '';\n\n\tfor (const card of series) {\n\t\tconst isFav = isFavourite(card);\n\n\t\tif (isFav) {\n\t\t\tfavClass = 'favourite';\n\t\t} else {\n\t\t\tfavClass = 'estandar';\n\t\t}\n\t\tlet newCard = document.createElement('div');\n\t\tnewCard.classList.add('found-list__card', 'js-foundCard', `${favClass}`);\n\t\tnewCard.id = card.show.id;\n\t\tlet imageCard = document.createElement('img');\n\n\t\tif (card.show.image === null) {\n\t\t\timageCard.src =\n\t\t\t\t'https://via.placeholder.com/210x295/ffffff/666666/?text=TV';\n\t\t} else {\n\t\t\timageCard.src = card.show.image.medium;\n\t\t}\n\t\timageCard.setAttribute('class', 'found-list__image');\n\t\tlet titleCard = document.createElement('h2');\n\t\ttitleCard.setAttribute('class', 'found-list__title');\n\t\tlet titleContent = document.createTextNode(card.show.name);\n\t\ttitleCard.appendChild(titleContent);\n\t\tnewCard.appendChild(imageCard);\n\t\tlistContainer.appendChild(newCard);\n\t\tnewCard.appendChild(titleCard);\n\t\tlistContainer.appendChild(newCard);\n\t}\n\tlistenToTheCards();\n}\n\n//Listener function\nfunction listenToTheCards() {\n\tconst listenedCards = document.querySelectorAll('.js-foundCard');\n\tfor (const eachCard of listenedCards) {\n\t\teachCard.addEventListener('click', handleFavCards);\n\t}\n}\n","//Add cards to favourites array\nfunction handleFavCards(event) {\n\tconst selectedCardId = parseInt(event.currentTarget.id);\n\tconst clickedCard = series.find((card) => {\n\t\treturn card.show.id === selectedCardId;\n\t});\n\n\tconst alreadyExist = favourites.findIndex((index) => {\n\t\treturn index.show.id === selectedCardId;\n\t});\n\n\tif (alreadyExist === -1) {\n\t\tfavourites.push(clickedCard);\n\t} else {\n\t\tfavourites.splice(alreadyExist, 1);\n\t}\n\n\tsetLS();\n\tAddContentFavCards();\n\taddCards();\n}\n\n//Add content to favourites section\nfunction AddContentFavCards() {\n\tfavContainer.innerHTML = '';\n\n\tfor (const card of favourites) {\n\t\tlet newCard = document.createElement('li');\n\t\tnewCard.classList.add('fav-list__card', 'js-favCard');\n\t\tnewCard.id = card.show.id;\n\n\t\tlet imageCard = document.createElement('img');\n\t\tif (card.show.image === null) {\n\t\t\timageCard.src =\n\t\t\t\t'https://via.placeholder.com/210x295/ffffff/666666/?text=TV';\n\t\t} else {\n\t\t\timageCard.src = card.show.image.medium;\n\t\t}\n\t\timageCard.setAttribute('class', 'fav-list__image');\n\n\t\tlet titleCard = document.createElement('h2');\n\t\ttitleCard.setAttribute('class', 'fav-list__title');\n\t\tlet titleContent = document.createTextNode(card.show.name);\n\t\ttitleCard.appendChild(titleContent);\n\n\t\tnewCard.appendChild(imageCard);\n\t\tnewCard.appendChild(titleCard);\n\t\tfavContainer.appendChild(newCard);\n\t}\n\n\tlistenToTheCards();\n}\n\n//<i class=\"fas fa-heart\"></i>\n","function setLS() {\n\tlocalStorage.setItem('favourites', JSON.stringify(favourites));\n}\n\nfunction getLS() {\n\tfavourites = JSON.parse(localStorage.getItem('favourites'));\n\tAddContentFavCards();\n\taddCards();\n}\n","//Reset favourites\n\nconsole.log(favourites);\nfunction reset() {\n\tfavourites = [];\n\tfavContainer.innerHTML = '';\n\tsetLS();\n\taddCards();\n\tlocalStorage.clear();\n}\nresetBtn.addEventListener('click', reset);\n","'use strict';\n\n"]}