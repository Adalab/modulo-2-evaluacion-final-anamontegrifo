"use strict";const inputSearch=document.querySelector(".js-inputSearch"),btnSearch=document.querySelector(".js-btnSearch");let series=[];function completeUrl(){return"//api.tvmaze.com/search/shows?q="+inputSearch.value}function getTheSearchResult(){let e=completeUrl();fetch(e).then(e=>e.json()).then(e=>{series=e,addCards()})}btnSearch.addEventListener("click",getTheSearchResult);const listContainer=document.querySelector(".found-list"),defaultImage="https://via.placeholder.com/210x295/ffffff/666666/?text=TV";function isFavourite(e){return void 0!==favourites.find(t=>t.show.id===e.show.id)}function addCards(){let e="";listContainer.innerHTML="";for(const t of series){e=isFavourite(t)?"favourite":"estandar";let n=document.createElement("div");n.classList.add("found-list__card","js-foundCard",""+e),n.id=t.show.id;let s=document.createElement("img");null===t.show.image?s.src="https://via.placeholder.com/210x295/ffffff/666666/?text=TV":s.src=t.show.image.medium,s.setAttribute("class","found-list__image");let a=document.createElement("h2");a.setAttribute("class","found-list__title");let i=document.createTextNode(t.show.name);a.appendChild(i),n.appendChild(s),listContainer.appendChild(n),n.appendChild(a),listContainer.appendChild(n)}listenToTheCards()}let favourites=[];const favContainer=document.querySelector(".fav-list"),favSection=document.querySelector(".js-fav"),resetBtn=document.querySelector(".js-reset");function listenToTheCards(){const e=document.querySelectorAll(".js-foundCard");for(const t of e)t.addEventListener("click",handleFavCards)}function handleFavCards(e){const t=parseInt(e.currentTarget.id);console.log(t);const n=series.find(e=>e.show.id===t),s=favourites.findIndex(e=>e.show.id===t);-1===s?favourites.push(n):favourites.splice(s,1),AddContentFavCards(),console.log(favourites),addCards()}function AddContentFavCards(){favContainer.innerHTML="";for(const e of favourites){let t=document.createElement("li");t.classList.add("fav-list__card","js-favCard"),t.id=e.show.id;let n=document.createElement("img");null===e.show.image?n.src="https://via.placeholder.com/210x295/ffffff/666666/?text=TV":n.src=e.show.image.medium,n.setAttribute("class","fav-list__image");let s=document.createElement("h2");s.setAttribute("class","fav-list__title");let a=document.createTextNode(e.show.name);s.appendChild(a),t.appendChild(n),t.appendChild(s),favContainer.appendChild(t)}listenToTheCards()}function reset(){favourites=[]}resetBtn.addEventListener("click",reset);